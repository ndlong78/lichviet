{% extends "base.html" %}

{% block title %}Lịch Năm {{ year }}{% endblock %}

{% block content %}
<div class="year-view">
    <!-- Year Navigation -->
    <div class="year-nav">
        <a href="{{ url_for('main.year_view', year=year-1) }}" class="btn">
            <i class="fas fa-chevron-left"></i> {{ year-1 }}
        </a>
        <h2>{{ year }}</h2>
        <a href="{{ url_for('main.year_view', year=year+1) }}" class="btn">
            {{ year+1 }} <i class="fas fa-chevron-right"></i>
        </a>
    </div>

    <!-- Months Grid -->
    <div class="months-grid">
        {% for month in range(1, 13) %}
        <div class="month-box">
            <h3>{{ month_names[month-1] }}</h3>
            <table class="mini-calendar">
                <thead>
                    <tr>
                        {% for day in ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'] %}
                        <th>{{ day }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for week in calendar_data[month] %}
                    <tr>
                        {% for day in week %}
                        <td class="{% if day.today %}today{% endif %}">
                            {{ day.day if day.month == month else '' }}
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}