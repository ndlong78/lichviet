{% extends "base.html" %}
{% from "macros/calendar_macros.html" import render_date %}

{% block title %}Lịch Tháng {{ month_name }} {{ year }}{% endblock %}

{% block content %}
<div class="month-view">
    <div class="month-header">
        <h2>
            {{ month_name }} {{ year }}
            <small class="lunar-month">Tháng {{ lunar_month }} năm {{ lunar_year }}</small>
        </h2>
    </div>

    <table class="month-grid">
        <thead>
            <tr>
                {% for weekday in ['CN', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7'] %}
                <th>{{ weekday }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for week in calendar_data %}
            <tr>
                {% for date in week %}
                <td>
                    {{ render_date(date, 
                                 get_events_for_date(date), 
                                 is_today=is_today(date),
                                 is_other_month=is_other_month(date, current_month)) }}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}